{"ast":null,"code":"import client from './client';\nconst movieFields = `\n  title,\n  // \"slug\": slug.current,\n  // \"actor\": actor->fullname,\n  // \"skuespillere\": skuespillere[]{...}\n`;\nconst actorFields = `\n  fullname,\n  \"slug\": slug.current,\n`; // Funksjon for å hente alle filmer\n\nexport const getMovies = async () => {\n  const data = await client.fetch(`*[_type == \"movie\"]{${movieFields}}`);\n  return data;\n}; // Funksjon for å hente alle skuespillere\n\nexport const getActors = async () => {\n  const data = await client.fetch(`*[_type == \"actor\"]{${actorFields}}`);\n  return data;\n}; // Funksjon for å hente filmer med en gitt skuespillet\n\nexport const getMovieActor = async actorName => {\n  const data = await client.fetch(`*[_type == \"movie\"]{${movieFields}}`);\n  const actorslug = await client.fetch(`*[_type == \"actor\" && slug.current == $actorName]{${actorFields}}`, {\n    actorName\n  });\n  console.log(data);\n  console.log(actorslug);\n  const newData = [...data, ...actorslug];\n  return newData;\n}; // export const getMovie = async (slug) => {\n//   const data = await client.fetch(\n//     `*[_type == \"movie\" && slug.current == $slug]{${movieFields}}`,\n//     { slug }\n//   )\n//   return data\n// }\n// export const getActor = async (slug) => {\n//   const data = await client.fetch(\n//     `*[_type == \"actor\" && slug.current == $slug]{${actorFields}}`,\n//     { slug }\n//   )\n//   return data\n// }","map":{"version":3,"sources":["C:/Users/joaki/Documents/GitHub/Utvikling-Av-Interaktive-Nettsteder/Oppgave 8 React Sanity/react/src/lib/movieService.js"],"names":["client","movieFields","actorFields","getMovies","data","fetch","getActors","getMovieActor","actorName","actorslug","console","log","newData"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,UAAnB;AAEA,MAAMC,WAAW,GAAI;AACrB;AACA;AACA;AACA;AACA,CALA;AAOA,MAAMC,WAAW,GAAI;AACrB;AACA;AACA,CAHA,C,CAKA;;AACA,OAAO,MAAMC,SAAS,GAAG,YAAY;AACnC,QAAMC,IAAI,GAAG,MAAMJ,MAAM,CAACK,KAAP,CAAc,uBAAsBJ,WAAY,GAAhD,CAAnB;AACA,SAAOG,IAAP;AACD,CAHM,C,CAKP;;AACA,OAAO,MAAME,SAAS,GAAG,YAAY;AACnC,QAAMF,IAAI,GAAG,MAAMJ,MAAM,CAACK,KAAP,CAAc,uBAAsBH,WAAY,GAAhD,CAAnB;AACA,SAAOE,IAAP;AACD,CAHM,C,CAKP;;AACA,OAAO,MAAMG,aAAa,GAAG,MAAOC,SAAP,IAAqB;AAChD,QAAMJ,IAAI,GAAG,MAAMJ,MAAM,CAACK,KAAP,CAAc,uBAAsBJ,WAAY,GAAhD,CAAnB;AACA,QAAMQ,SAAS,GAAG,MAAMT,MAAM,CAACK,KAAP,CACrB,qDAAoDH,WAAY,GAD3C,EAEtB;AACEM,IAAAA;AADF,GAFsB,CAAxB;AAMAE,EAAAA,OAAO,CAACC,GAAR,CAAYP,IAAZ;AACAM,EAAAA,OAAO,CAACC,GAAR,CAAYF,SAAZ;AACA,QAAMG,OAAO,GAAG,CAAC,GAAGR,IAAJ,EAAU,GAAGK,SAAb,CAAhB;AACA,SAAOG,OAAP;AACD,CAZM,C,CAcP;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import client from './client'\r\n\r\nconst movieFields = `\r\n  title,\r\n  // \"slug\": slug.current,\r\n  // \"actor\": actor->fullname,\r\n  // \"skuespillere\": skuespillere[]{...}\r\n`\r\n\r\nconst actorFields = `\r\n  fullname,\r\n  \"slug\": slug.current,\r\n`\r\n\r\n// Funksjon for å hente alle filmer\r\nexport const getMovies = async () => {\r\n  const data = await client.fetch(`*[_type == \"movie\"]{${movieFields}}`)\r\n  return data\r\n}\r\n\r\n// Funksjon for å hente alle skuespillere\r\nexport const getActors = async () => {\r\n  const data = await client.fetch(`*[_type == \"actor\"]{${actorFields}}`)\r\n  return data\r\n}\r\n\r\n// Funksjon for å hente filmer med en gitt skuespillet\r\nexport const getMovieActor = async (actorName) => {\r\n  const data = await client.fetch(`*[_type == \"movie\"]{${movieFields}}`)\r\n  const actorslug = await client.fetch(\r\n    `*[_type == \"actor\" && slug.current == $actorName]{${actorFields}}`,\r\n    {\r\n      actorName,\r\n    }\r\n  )\r\n  console.log(data)\r\n  console.log(actorslug)\r\n  const newData = [...data, ...actorslug]\r\n  return newData\r\n}\r\n\r\n// export const getMovie = async (slug) => {\r\n//   const data = await client.fetch(\r\n//     `*[_type == \"movie\" && slug.current == $slug]{${movieFields}}`,\r\n//     { slug }\r\n//   )\r\n//   return data\r\n// }\r\n\r\n// export const getActor = async (slug) => {\r\n//   const data = await client.fetch(\r\n//     `*[_type == \"actor\" && slug.current == $slug]{${actorFields}}`,\r\n//     { slug }\r\n//   )\r\n//   return data\r\n// }\r\n"]},"metadata":{},"sourceType":"module"}